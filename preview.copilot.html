<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign In — NexusCanon VMP</title>
  <meta name="description" content="Secure sign in to NexusCanon VMP. Enterprise settlement governance operating system for finance teams." />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#060607;
      --bg2:#050506;

      --panel: rgba(255,255,255,.03);
      --panel2: rgba(255,255,255,.015);
      --border: rgba(255,255,255,.10);
      --border2: rgba(255,255,255,.14);

      --text:#ededed;
      --soft: rgba(237,237,237,.76);
      --muted: rgba(237,237,237,.60);
      --subtle: rgba(237,237,237,.40);

      --accent: hsl(155,100%,69%);
      --accentSoft: rgba(96,255,198,.10);
      --danger: rgba(255,85,85,.92);
      --dangerSoft: rgba(255,85,85,.08);

      --max-w: 1280px;

      --r-lg: 22px;
      --r-md: 14px;
      --r-sm: 12px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }

    body{
      margin:0;
      background:
        radial-gradient(1200px 900px at 50% -200px, rgba(96,255,198,.10), transparent 55%),
        radial-gradient(900px 700px at 80% 10%, rgba(255,255,255,.06), transparent 60%),
        linear-gradient(to bottom, var(--bg), var(--bg2));
      color:var(--text);
      font-family:'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      overflow-x:hidden;
      line-height:1.55;
      text-rendering:geometricPrecision;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
    }

    /* Subtle grain */
    body:before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.06;
      mix-blend-mode:overlay;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      transform: translateZ(0);
    }

    .container{
      max-width:var(--max-w);
      margin:0 auto;
      padding:0 2rem;
    }

    .mono{
      font-family:'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      letter-spacing:.15em;
      text-transform:uppercase;
    }

    .kicker{
      display:inline-flex;
      align-items:center;
      gap:8px;
      margin-bottom:16px;
      font-size:11px;
      letter-spacing:.15em;
      color:rgba(255,255,255,.5);
      text-transform:uppercase;
    }

    .kicker .dot{
      width:6px;height:6px;border-radius:50%;
      background:var(--accent);
      box-shadow:0 0 8px var(--accent);
    }

    .hero{
      padding:96px 0 72px 0;
      text-align:center;
      position:relative;
    }

    .hero h1{
      font-size:24px;
      line-height:1.3;
      margin:0 0 8px 0;
      color:#fff;
      font-weight:500;
      letter-spacing:-0.02em;
    }

    .hero p{
      font-size:13px;
      max-width:760px;
      margin:0 auto;
      color:rgba(255,255,255,.5);
      line-height:1.5;
      font-weight:400;
    }

    /* Mirror Layout */
    .auth-mirror{
      max-width:1200px;
      margin:2.75rem auto 0 auto;
      position:relative;
    }

    .auth-panes{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:0;
      min-height:640px;
      position:relative;
    }

    .auth-seam{
      position:absolute;
      left:50%;
      top:14px;
      bottom:14px;
      width:1px;
      transform:translateX(-.5px);
      background:linear-gradient(to bottom, transparent, rgba(255,255,255,.22), transparent);
      box-shadow:0 0 50px rgba(96,255,198,.12);
      pointer-events:none;
      z-index:3;
    }

    .auth-pane{
      padding:1.75rem;
      position:relative;
    }

    .auth-pane-left{ border-right:1px solid rgba(255,255,255,.06); }
    .auth-pane-right{ border-left:1px solid rgba(255,255,255,.06); }

    .pane-content{
      height:100%;
      border-radius:var(--r-lg);
      border:1px solid rgba(255,255,255,.10);
      background:linear-gradient(to bottom, rgba(255,255,255,.035), rgba(255,255,255,.014));
      box-shadow:0 16px 50px rgba(0,0,0,.42);
      padding:1.75rem;
      overflow:hidden;
      position:relative;
    }

    .pane-content:before{
      content:"";
      position:absolute;
      inset:-1px;
      border-radius:var(--r-lg);
      pointer-events:none;
      background:
        radial-gradient(600px 240px at 30% 0%, rgba(96,255,198,.12), transparent 60%),
        radial-gradient(520px 220px at 90% 20%, rgba(255,255,255,.08), transparent 65%);
      opacity:.55;
      mask: linear-gradient(#000, #000);
    }

    .pane-inner{
      position:relative;
      z-index:1;
      height:100%;
      overflow:auto;
      padding-right:6px;
      text-align:left;
    }

    /* Titles */
    .panel-title, .form-head{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      margin-bottom:20px;
      text-align:left;
    }

    .panel-title h2, .form-head h2{
      margin:0;
      font-size:24px;
      letter-spacing:-0.02em;
      font-weight:500;
      color:#fff;
      text-align:left;
    }

    .panel-title .meta, .form-head .meta{
      font-size:11px;
      letter-spacing:.15em;
      color:rgba(255,255,255,.5);
      white-space:nowrap;
      text-transform:uppercase;
    }

    /* LEFT: Access protocol */
    .protocol{
      border-top:1px solid rgba(255,255,255,.08);
      margin-top:20px;
      padding-top:20px;
    }

    .step{
      display:grid;
      grid-template-columns:40px 1fr;
      gap:12px;
      padding:20px 0;
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .step:last-child{ border-bottom:none; }

    .step .num{
      width:32px;height:32px;border-radius:12px;
      display:grid;place-items:center;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.18);
      color:rgba(96,255,198,.92);
      font-size:.78rem;
      letter-spacing:.10em;
      font-weight:500;
    }

    .step .label{
      font-size:10px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color:rgba(255,255,255,.5);
      margin-bottom:8px;
    }

    .step p{
      margin:0;
      color:rgba(255,255,255,.5);
      font-size:13px;
      line-height:1.5;
      font-weight:400;
    }

    .badges{
      margin-top:14px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
    }

    .badge{
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.18);
      padding:8px 10px;
      font-size:10px;
      letter-spacing:.12em;
      text-transform:uppercase;
      color:rgba(255,255,255,.55);
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    .badge i{
      width:7px;height:7px;border-radius:50%;
      background:rgba(96,255,198,.85);
      box-shadow:0 0 10px rgba(96,255,198,.20);
      display:inline-block;
    }

    .example{
      margin-top:14px;
      padding:14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.08);
      background:rgba(0,0,0,.18);
    }

    .example .cap{
      font-size:10px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color:rgba(255,255,255,.5);
      margin-bottom:10px;
    }

    .kv{
      display:grid;
      grid-template-columns:160px 1fr;
      gap:8px 12px;
      font-size:.9rem;
      color:rgba(237,237,237,.70);
    }

    .kv b{
      font-weight:600;
      color:rgba(237,237,237,.86);
    }

    .kv code{
      font-family:'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      color:rgba(96,255,198,.92);
      background:rgba(96,255,198,.08);
      border:1px solid rgba(96,255,198,.18);
      padding:2px 6px;
      border-radius:8px;
      font-weight:500;
    }

    .mini-help{
      margin-top:14px;
      padding-top:14px;
      border-top:1px solid rgba(255,255,255,.08);
      color:rgba(255,255,255,.5);
      font-size:12px;
      line-height:1.55;
    }

    .mini-help a{
      color:rgba(96,255,198,.92);
      text-decoration:none;
      border-bottom:1px solid rgba(96,255,198,.25);
    }
    .mini-help a:hover{ border-bottom-color: rgba(96,255,198,.55); }

    /* RIGHT: Form */
    .notice{
      padding:12px;
      margin:0 0 20px 0;
      border-radius:8px;
      border:1px solid transparent;
      font-size:.92rem;
      line-height:1.5;
      color:rgba(237,237,237,.74);
      text-align:left;
    }
    .notice--error{
      border-color: rgba(255,85,85,.28);
      background: rgba(255,85,85,.07);
      color: rgba(255,125,125,.92);
    }
    .notice--success{
      border-color: rgba(96,255,198,.25);
      background: rgba(96,255,198,.06);
      color: rgba(96,255,198,.92);
    }

    form{ margin:0; }

    .form-grid{
      display:flex;
      flex-direction:column;
      gap:0;
      margin-top:20px;
      border-top:1px solid rgba(255,255,255,.08);
      padding-top:20px;
    }

    .field{
      text-align:left;
      padding:20px 0;
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .field:last-of-type{
      border-bottom:none;
      padding-bottom:0;
    }

    .label{
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:10px;
      margin-bottom:8px;
    }

    .label span{
      font-size:10px;
      letter-spacing:.10em;
      text-transform:uppercase;
      color:rgba(255,255,255,.5);
    }

    .label .required{
      font-size:14px;
      color:rgba(96,255,198,.9);
      font-weight:500;
    }

    .hint{
      margin:6px 0 0 0;
      font-size:12px;
      color:rgba(255,255,255,.5);
      line-height:1.5;
    }

    .input{
      width:100%;
      background:rgba(0,0,0,.3);
      border:1px solid rgba(255,255,255,.08);
      padding:12px 14px;
      border-radius:8px;
      color:#fff;
      font-size:14px;
      font-weight:400;
      box-shadow: inset 0 2px 4px rgba(0,0,0,.1);
      font-family:'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      transition: all .2s ease;
    }

    .input::placeholder{ color:rgba(255,255,255,.2); }

    .input:focus{
      outline:none;
      border-color: var(--accent);
      background: rgba(0,0,0,.5);
      box-shadow: 0 0 0 1px rgba(96,255,198,.15), inset 0 2px 4px rgba(0,0,0,.2);
    }

    .input:focus-visible{
      outline: none;
    }

    .input-wrap{
      position:relative;
    }

    .reveal{
      position:absolute;
      right:10px;
      top:50%;
      transform: translateY(-50%);
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.25);
      color: rgba(255,255,255,.55);
      font-size:11px;
      letter-spacing:.10em;
      text-transform:uppercase;
      border-radius:999px;
      padding:7px 10px;
      cursor:pointer;
      user-select:none;
      transition: all .18s ease;
    }

    .reveal:hover{
      border-color: rgba(96,255,198,.22);
      color: rgba(96,255,198,.92);
      background: rgba(96,255,198,.06);
    }

    .row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:16px 0 10px 0;
    }

    .check{
      display:flex;
      align-items:center;
      gap:10px;
      color: rgba(255,255,255,.55);
      font-size:12px;
    }

    .check input{
      width:16px;height:16px;
      accent-color: var(--accent);
    }

    .link{
      color: rgba(255,255,255,.55);
      text-decoration:none;
      font-size:12px;
      border-bottom: 1px solid rgba(255,255,255,.16);
      transition: all .18s ease;
    }
    .link:hover{
      color:#fff;
      border-bottom-color: rgba(96,255,198,.35);
    }

    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding:13px 18px;
      border-radius:999px;
      font-size:.92rem;
      font-weight:520;
      cursor:pointer;
      transition: transform .18s ease, background .18s ease, border-color .18s ease;
      border:1px solid transparent;
      user-select:none;
      text-decoration:none;
      -webkit-tap-highlight-color: transparent;
    }

    .btn-primary{
      width:100%;
      background: var(--accent);
      border:none;
      color:#050506;
      font-size:13px;
      font-weight:600;
      letter-spacing:.05em;
      text-transform:uppercase;
      padding:14px;
      box-shadow: 0 0 15px rgba(96,255,198,.1);
    }

    .btn-primary:hover{
      transform: translateY(-1px);
      background:#5fffc4;
      box-shadow: 0 0 25px rgba(96,255,198,.3);
    }

    .btn-secondary{
      width:100%;
      margin-top:10px;
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.76);
      font-size:13px;
      font-weight:550;
      letter-spacing:.05em;
      text-transform:uppercase;
      padding:14px;
    }

    .btn-secondary:hover{
      transform: translateY(-1px);
      border-color: rgba(96,255,198,.22);
      background: rgba(96,255,198,.06);
      color: rgba(96,255,198,.92);
    }

    .divider{
      display:flex;
      align-items:center;
      gap:12px;
      margin:16px 0 8px 0;
      color: rgba(255,255,255,.38);
      font-size:10px;
      letter-spacing:.18em;
      text-transform:uppercase;
    }

    .divider:before, .divider:after{
      content:"";
      height:1px;
      flex:1;
      background: linear-gradient(to right, transparent, rgba(255,255,255,.14), transparent);
    }

    .form-foot{
      margin-top:12px;
      padding-top:12px;
      border-top:1px solid rgba(255,255,255,.08);
      text-align:left;
    }

    .form-foot p{
      margin:0;
      font-size:12px;
      color: rgba(255,255,255,.5);
      line-height:1.5;
    }

    .form-foot a{
      color: rgba(96,255,198,.92);
      text-decoration:none;
      border-bottom:1px solid rgba(96,255,198,.25);
    }
    .form-foot a:hover{ border-bottom-color: rgba(96,255,198,.55); }

    .back-link{
      text-align:center;
      margin-top:22px;
    }

    .back-link a{
      color: rgba(255,255,255,.5);
      text-decoration:none;
      font-size:12px;
      transition: color .2s ease;
    }
    .back-link a:hover{ color:white; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ transition:none !important; scroll-behavior:auto !important; }
      .btn-primary:hover, .btn-secondary:hover{ transform:none; }
    }

    /* Responsive */
    @media (max-width: 980px){
      .auth-panes{ grid-template-columns:1fr; }
      .auth-seam{ display:none; }
      .auth-pane-left{
        border-right:none;
        border-bottom:1px solid rgba(255,255,255,.08);
      }
      .auth-pane-right{ border-left:none; }
      .kv{ grid-template-columns:1fr; }
      .row{ flex-direction:column; align-items:flex-start; }
      .reveal{ top: 50%; }
    }
  </style>
</head>

<body>
  <header class="hero container">
    <div class="kicker mono">
      <span class="dot" aria-hidden="true"></span>
      NexusCanon VMP • SECURE SIGN IN
    </div>

    <h1>Secure Sign In</h1>

    <p>
      Enter using your verified invitation identity.
      Every session is scope-bound, auditable, and policy-enforced.
    </p>

    <div class="auth-mirror">
      <div class="auth-panes">
        <div class="auth-seam" aria-hidden="true"></div>

        <!-- LEFT: Protocol / Assurance -->
        <div class="auth-pane auth-pane-left">
          <div class="pane-content">
            <div class="pane-inner">
              <div class="panel-title">
                <h2>Access Protocol</h2>
                <div class="meta mono">SETTLEMENT GOVERNANCE</div>
              </div>

              <div class="protocol">
                <div class="step">
                  <div class="num mono">01</div>
                  <div>
                    <div class="label">Identity</div>
                    <p>Sign in with your invited work email. It is your audit identity and routing target.</p>
                  </div>
                </div>

                <div class="step">
                  <div class="num mono">02</div>
                  <div>
                    <div class="label">Scope</div>
                    <p>Your session is bound to approved entities and allowed actions (upload, respond, track).</p>
                  </div>
                </div>

                <div class="step">
                  <div class="num mono">03</div>
                  <div>
                    <div class="label">Controls</div>
                    <p>MFA + device-aware session rules protect payment evidence from off-channel drift.</p>
                  </div>
                </div>

                <div class="step">
                  <div class="num mono">04</div>
                  <div>
                    <div class="label">Audit Trail</div>
                    <p>Every upload, comment, and decision is time-stamped for review and dispute handling.</p>
                  </div>
                </div>

                <div class="badges" aria-label="Assurance badges">
                  <span class="badge"><i aria-hidden="true"></i> SOC2 Type II</span>
                  <span class="badge"><i aria-hidden="true"></i> ISO 27001</span>
                  <span class="badge"><i aria-hidden="true"></i> SAP Ready</span>
                  <span class="badge"><i aria-hidden="true"></i> Oracle Ready</span>
                </div>

                <div class="example">
                  <div class="cap mono">Session example</div>
                  <div class="kv">
                    <b>Identity</b> <span><code>ap@vendorco.com</code></span>
                    <b>Scope</b> <span>Retail Division • Invoice Upload • Evidence Response</span>
                    <b>Mode</b> <span>MFA enforced • Audit logging enabled</span>
                    <b>Result</b> <span>Access granted (policy-compliant)</span>
                  </div>
                </div>

                <div class="mini-help">
                  Don’t have access yet? <a href="/sign-up">Request an invitation</a>.
                  If you’re blocked by policy, contact your customer finance owner.
                </div>
              </div>

            </div>
          </div>
        </div>

        <!-- RIGHT: Login Form -->
        <div class="auth-pane auth-pane-right">
          <div class="pane-content">
            <div class="pane-inner">
              <div class="form-head">
                <h2>Sign In</h2>
                <div class="meta mono">AUTHENTICATION</div>
              </div>

              {% if error %}
              <div class="notice notice--error">{{ error }}</div>
              {% endif %}

              {% if success %}
              <div class="notice notice--success">{{ success }}</div>
              {% endif %}

              {% if not success %}
              <form method="POST" action="/login" autocomplete="on">
                <div class="form-grid">

                  <div class="field">
                    <div class="label">
                      <span>Your work email <span class="required">*</span></span>
                    </div>
                    <input class="input" type="email" name="email" placeholder="ap@vendorco.com" required autocomplete="email">
                    <p class="hint">Use the same email that received the invitation link.</p>
                  </div>

                  <div class="field">
                    <div class="label">
                      <span>Password <span class="required">*</span></span>
                    </div>

                    <div class="input-wrap">
                      <input id="password" class="input" type="password" name="password" placeholder="••••••••••" required autocomplete="current-password">
                      <button class="reveal" type="button" id="revealBtn" aria-controls="password" aria-pressed="false">
                        Reveal
                      </button>
                    </div>

                    <div class="row">
                      <label class="check">
                        <input type="checkbox" name="remember" value="1">
                        Remember this device
                      </label>
                      <a class="link" href="/forgot-password">Forgot password?</a>
                    </div>
                  </div>

                  <button class="btn btn-primary" type="submit">
                    <span>Sign In</span>
                  </button>

                  <div class="divider mono">or</div>

                  <!-- Optional SSO button (link). Keep if you have /sso route. -->
                  <a class="btn btn-secondary" href="/sso">
                    <span>Continue with SSO</span>
                  </a>

                  <div class="form-foot">
                    <p>
                      No invitation yet? <a href="/sign-up">Request access</a>.
                      By signing in you agree to session logging for audit and dispute resolution.
                    </p>
                  </div>

                </div>
              </form>
              {% endif %}

            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="back-link">
      <a href="/">← Back to Home</a> | <a href="/sign-up">Need access? Request Invitation</a>
    </div>
  </header>

  <script>
    (function () {
      const pw = document.getElementById('password');
      const btn = document.getElementById('revealBtn');
      if (!pw || !btn) return;

      btn.addEventListener('click', function () {
        const isHidden = pw.getAttribute('type') === 'password';
        pw.setAttribute('type', isHidden ? 'text' : 'password');
        btn.setAttribute('aria-pressed', isHidden ? 'true' : 'false');
        btn.textContent = isHidden ? 'Hide' : 'Reveal';
      });
    })();
  </script>
</body>
</html>
