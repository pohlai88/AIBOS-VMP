{% extends "layout.html" %}

{% block title %}Operations Queue â€” NexusCanon VMP{% endblock %}

{% block content %}
<div class="h-full flex flex-col">
    <header class="vmp-container py-6 shrink-0 border-b" style="border-color: var(--vmp-border);">
        <div class="flex items-center justify-between">
            <div>
                <h1 class="vmp-h2 leading-none mb-1">Case Operations</h1>
                <p class="vmp-body-small opacity-60">Manager triage and high-volume processing queue.</p>
            </div>
            <div class="flex items-center gap-3">
                <button class="vmp-btn vmp-btn-ghost vmp-btn-sm" title="Refresh Data"
                        hx-get="/partials/ops-case-queue.html" 
                        hx-target="#case-queue-container"
                        hx-indicator="#queue-loading">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                </button>
                <a href="/ops/cases/new" class="vmp-btn vmp-btn-primary vmp-btn-sm">
                    Create Case
                </a>
            </div>
        </div>
    </header>

    <main class="flex-1 overflow-hidden relative bg-[var(--vmp-background-secondary)]">
        <div class="h-full overflow-y-auto vmp-scrollbar">
            <div class="vmp-container py-6">
                <div id="queue-loading" class="htmx-indicator mb-4">
                    <div class="flex items-center gap-2 text-[var(--vmp-brand)]">
                        <div class="vmp-spinner w-4 h-4"></div>
                        <span class="vmp-code-small">SYNCING QUEUE...</span>
                    </div>
                </div>

                <div id="case-queue-container" 
                     hx-get="/partials/ops-case-queue.html" 
                     hx-trigger="load" 
                     hx-swap="innerHTML">
                    </div>
            </div>
        </div>
    </main>
</div>
{% endblock %}