{% extends "layout.html" %}
{% block title %}Vendor Directory â€” NexusCanon Ops{% endblock %}

{% block content %}
<div class="w-full max-w-7xl mx-auto space-y-8">
    
    <header class="flex justify-between items-end border-b border-white/10 pb-6">
        <div>
            <div class="vmp-label mb-2 opacity-70">
                {% if scopeType == 'group' %}DIRECTOR VIEW
                {% else %}MANAGER VIEW{% endif %}
            </div>
            <h1 class="vmp-h1 leading-none mb-2">Vendor Directory</h1>
            <p class="vmp-body max-w-lg opacity-80">
                Manage supplier profiles, compliance status, and authorization scopes.
            </p>
        </div>
        
        <button class="vmp-btn vmp-btn-primary" 
                hx-get="/partials/invite-form.html" 
                hx-target="#modal-container"
                hx-trigger="click">
            <span class="vmp-label text-[var(--vmp-bg)]">Invite Vendor</span>
        </button>
    </header>

    <div id="vendor-directory-container"
         hx-get="/partials/vendor_directory.html?scope_type={{ scopeType }}&scope_id={{ scopeId }}"
         hx-trigger="load"
         hx-swap="innerHTML"
         class="min-h-[400px]">
        <div class="flex flex-col items-center justify-center h-64 gap-4 opacity-50">
            <div class="vmp-spinner w-8 h-8"></div>
            <div class="vmp-label animate-pulse">Loading directory...</div>
        </div>
    </div>
</div>
{% endblock %}