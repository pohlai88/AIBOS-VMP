{% macro caseCard(case) %}
<div data-testid="case-card" class="border border-white/8 rounded-lg bg-white/3 backdrop-blur-sm p-4 hover:bg-white/5 hover:border-white/12 transition-all duration-200 cursor-pointer group"
     onclick="window.location.href='/cases/{{ case.id }}'">
  
  <!-- Header: Title + Status Badge -->
  <div class="flex justify-between items-start mb-3 gap-2">
    <h3 class="text-white font-semibold text-sm group-hover:text-green-400 transition-colors truncate flex-1">
      {{ case.subject or 'Untitled Case' }}
    </h3>
    <span class="px-2 py-1 rounded text-xs font-semibold whitespace-nowrap status-badge status-{{ case.status }}">
      {{ case.status | replace('-', ' ') | title }}
    </span>
  </div>
  
  <!-- Metadata Grid -->
  <div class="space-y-2 mb-4">
    <div class="flex items-center gap-2 text-xs">
      <span class="text-white/40">ID:</span>
      <span class="text-white/80 font-mono">{{ case.id | truncate(10) }}</span>
    </div>
    
    <div class="flex items-center gap-2 text-xs">
      <span class="text-white/40">Type:</span>
      <span class="text-white/80">
        {% if case.case_type %}
          {{ case.case_type | replace('_', ' ') | title }}
        {% else %}
          Unknown
        {% endif %}
      </span>
    </div>
    
    <div class="flex items-center gap-2 text-xs">
      <span class="text-white/40">Created:</span>
      <span class="text-white/80">
        {% if case.created_at %}
          {{ case.created_at | formatDate }}
        {% else %}
          N/A
        {% endif %}
      </span>
    </div>
  </div>
  
  <!-- Unread Indicator -->
  {% if case.unread_messages and case.unread_messages > 0 %}
  <div class="pt-3 border-t border-white/5 flex items-center gap-2">
    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
    <span class="text-xs text-green-400 font-semibold">
      {{ case.unread_messages }} new message{% if case.unread_messages > 1 %}s{% endif %}
    </span>
  </div>
  {% endif %}
  
  <!-- Hover Indicator -->
  <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity">
    <svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </div>
</div>
{% endmacro %}
